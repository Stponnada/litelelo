/* src/index.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* --- Refined Light Theme --- */
    /* Signature Green #3cfba2 */
    --color-brand-green: 60 251 162;
    --color-brand-green-darker: 47 174 133;
    
    /* Softer background (Slate-100) instead of harsh white */
    --color-primary-light: 241 245 249;
    --color-secondary-light: 255 255 255;
    --color-tertiary-light: 226 232 240;
    
    /* High contrast text */
    --color-text-main-light: 15 23 42;
    --color-text-secondary-light: 71 85 105;
    --color-text-tertiary-light: 148 163 184;

    /* --- Deep Space Dark Theme --- */
    /* Richer, deeper background (Almost black with blue tint) */
    --color-primary: 3 7 18; 
    --color-secondary: 15 23 42;
    --color-tertiary: 30 41 59;
    
    /* Softer text for dark mode */
    --color-text-main: 248 250 252;
    --color-text-secondary: 148 163 184;
    --color-text-tertiary: 100 116 139;
  }

  html.dark.bw {
    /* Ultradark Monotone Overrides */
    --color-brand-green: 255 255 255; /* White */
    --color-brand-green-darker: 229 231 235; /* Gray-200 */
    
    --color-primary: 0 0 0; /* Pure Black */
    --color-secondary: 17 17 17; /* #111111 */
    --color-tertiary: 34 34 34; /* #222222 */
    
    --color-text-main: 255 255 255; /* White */
    --color-text-secondary: 161 161 161; /* #a1a1a1 */
    --color-text-tertiary: 82 82 82; /* #525252 */

    /* Override light vars for components that don't use dark: prefix */
    --color-primary-light: 0 0 0;
    --color-secondary-light: 17 17 17;
    --color-tertiary-light: 34 34 34;
    --color-text-main-light: 255 255 255;
    --color-text-secondary-light: 161 161 161;
    --color-text-tertiary-light: 82 82 82;
  }
}

body {
  /* Use theme() to access config values */
  background-color: theme('colors.primary-light');
  color: theme('colors.text-main-light');
  /* Smooth scrolling for the whole app */
  scroll-behavior: smooth;
}

.dark body {
  /* Apply dark mode styles when .dark is on the html/body */
  background-color: theme('colors.primary');
  color: theme('colors.text-main');
}

/* --- THEME-AWARE TEXT SELECTION --- */

/* 1. Default Style (for Light Mode) */
::selection {
  background-color: rgba(60, 251, 162, 0.3); /* Brand green with opacity */
  color: #0f172a;
  text-shadow: none;
}
::-moz-selection {
  background-color: rgba(60, 251, 162, 0.3);
  color: #0f172a;
  text-shadow: none;
}

/* 2. Dark Mode Override */
.dark ::selection {
  background-color: rgba(60, 251, 162, 0.15);
  color: #3cfba2;
  text-shadow: 0 0 10px rgba(60, 251, 162, 0.4);
}
.dark ::-moz-selection {
  background-color: rgba(60, 251, 162, 0.15);
  color: #3cfba2;
  text-shadow: 0 0 10px rgba(60, 251, 162, 0.4);
}

/* 3. Black & White Mode Override */
.dark.bw ::selection {
  background-color: #333;
  color: #fff;
  text-shadow: none;
}

/* FIX for images disappearing on selection */
img::selection, img::-moz-selection {
  background-color: transparent;
  text-shadow: none;
}

/* --- UTILITIES --- */
@layer utilities {
  /* Hide scrollbar but allow scrolling */
  .scrollbar-hide::-webkit-scrollbar {
      display: none;
  }
  .scrollbar-hide {
      -ms-overflow-style: none;
      scrollbar-width: none;
  }

  /* Standardized Glassmorphism Panel */
  .glass-panel {
    @apply bg-secondary-light/70 dark:bg-secondary/70 backdrop-blur-xl border border-white/20 dark:border-white/5 shadow-xl;
  }
}

/* --- BACKGROUND TEXTURE (The "Magic Fix") --- */
.bg-texture {
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E");
  pointer-events: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  opacity: 0.4; /* Subtle grain */
}

/* --- FULLCALENDAR THEMING --- */
:root {
  --fc-border-color: theme('colors.tertiary-light');
  --fc-daygrid-event-dot-width: 8px;
  --fc-list-event-dot-width: 10px;
  --fc-event-bg-color: theme('colors.brand-green');
  --fc-event-border-color: theme('colors.brand-green');
  --fc-event-text-color: theme('colors.primary');
  --fc-button-bg-color: theme('colors.tertiary-light');
  --fc-button-text-color: theme('colors.text-main-light');
  --fc-button-border-color: theme('colors.tertiary-light');
  --fc-button-hover-bg-color: #d1d5db;
  --fc-button-active-bg-color: #9ca3af;
  --fc-today-bg-color: rgba(60, 251, 162, 0.1);
}

.dark {
  --fc-border-color: theme('colors.tertiary');
  --fc-event-bg-color: theme('colors.brand-green');
  --fc-event-border-color: theme('colors.brand-green');
  --fc-event-text-color: theme('colors.primary');
  --fc-button-bg-color: theme('colors.tertiary');
  --fc-button-text-color: theme('colors.text-main');
  --fc-button-border-color: theme('colors.tertiary');
  --fc-button-hover-bg-color: #374151;
  --fc-button-active-bg-color: #4b5563;
  --fc-today-bg-color: rgba(60, 251, 162, 0.05);
}

/* --- ANIMATIONS --- */
@keyframes circuitFlowSmooth {
  0% { background-position: 0% 0%; opacity: 0.6; }
  50% { background-position: 100% 100%; opacity: 0.8; }
  100% { background-position: 0% 0%; opacity: 0.6; }
}

.text-neon-green { color: #00ff96; }

@keyframes neon-glitch-pulse {
  0%, 100% {
    text-shadow:
      -1.5px -1.5px 0px rgba(255, 0, 193, 0.3), 
      1.5px 1.5px 0px rgba(0, 255, 249, 0.3),
      0 0 5px #00ff96,
      0 0 10px #00ff96,
      0 0 15px #00ff96;
    transform: scale(1) skew(0);
  }
  50% {
    text-shadow:
      -2.5px -2.5px 0px rgba(255, 0, 193, 0.5), 
      2.5px 2.5px 0px rgba(0, 255, 249, 0.5),
      0 0 10px #00ff96,
      0 0 25px #00ff96,
      0 0 50px rgba(0,255,150,0.8);
    transform: scale(1.01) skew(-0.5deg, 0.25deg);
  }
}

.animate-neon-glitch {
  animation: neon-glitch-pulse 1.5s infinite alternate;
}

@keyframes swing {
  0% { transform: rotate(-15deg); }
  100% { transform: rotate(15deg); }
}

.animate-swing {
  animation: swing 1.5s ease-in-out infinite alternate;
  transform-origin: center 40%;
}

@keyframes spin-slow {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.animate-spin-slow {
  animation: spin-slow 3s linear infinite;
}

@keyframes spin-reverse {
  from { transform: rotate(360deg); }
  to { transform: rotate(0deg); }
}

.animate-spin-reverse {
  animation: spin-reverse 2s linear infinite;
}

@keyframes pulse-glow {
  0%, 100% { opacity: 1; transform: scale(1); box-shadow: 0 0 20px rgba(60, 251, 162, 0.5); }
  50% { opacity: 0.8; transform: scale(0.95); box-shadow: 0 0 10px rgba(60, 251, 162, 0.2); }
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

@keyframes pulse-subtle {
  0%, 100% { box-shadow: 0 0 0 0 rgba(60, 251, 162, 0.4); }
  50% { box-shadow: 0 0 0 10px rgba(60, 251, 162, 0); }
}

.animate-pulse-subtle {
  animation: pulse-subtle 2s infinite;
}